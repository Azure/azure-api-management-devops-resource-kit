{"name":"Serverless OpenHack Data Generation API","type":"Microsoft.ApiManagement/service/apis","apiVersion":"2018-06-01-preview","properties":{"description":"An API used to manage batches of data sent to Storage Accounts, Event Hubs, and Ratings Functions for Challenges 6, 7, and 8.","authenticationSettings":{"oAuth2":{"authorizationServerId":"serverId","scope":"scope"},"openid":{"openidProviderId":"serverId","bearerTokenSendingMethods":["authorizationHeader","query"]},"subscriptionKeyRequired":false},"subscriptionKeyParameterNames":{"header":"","query":""},"type":"http","apiRevision":"myRev","apiVersion":"myVersion","apiRevisionDescription":"myDesc","apiVersionDescription":"myDesc","apiVersionSetId":"versionSetId","subscriptionRequired":false,"displayName":"Serverless OpenHack Data Generation API","serviceUrl":"https://serverlessohmanagementapi.trafficmanager.net/api","path":"myPath","protocols":["https"],"apiVersionSet":{"id":"1b3dee","description":"a description","versioningScheme":"Query","versionQueryName":"versionQuery","versionHeaderName":"versionHeader"},"contentValue":"{\r\n  \"swagger\": \"2.0\",\r\n  \"info\": {\r\n    \"description\": \"An API used to manage batches of data sent to Storage Accounts, Event Hubs, and Ratings Functions for Challenges 6, 7, and 8.\",\r\n    \"version\": \"1.0.1\",\r\n    \"title\": \"Serverless OpenHack Data Generation API\"\r\n  },\r\n  \"host\": \"serverlessohmanagementapi.trafficmanager.net\",\r\n  \"basePath\": \"/api\",\r\n  \"tags\": [\r\n    {\r\n      \"name\": \"Challenge 6\",\r\n      \"description\": \"Endpoints used for OpenHack Challenge 6\"\r\n    },\r\n    {\r\n      \"name\": \"Challenge 7\",\r\n      \"description\": \"Endpoints used for OpenHack Challenge 7\"\r\n    },\r\n    {\r\n      \"name\": \"Challenge 8\",\r\n      \"description\": \"Endpoints used for OpenHack Challenge 8\"\r\n    }\r\n  ],\r\n  \"schemes\": [\r\n    \"https\"\r\n  ],\r\n  \"paths\": {\r\n    \"/team/registerStorageAccount\": {\r\n      \"post\": {\r\n        \"tags\": [\r\n          \"Challenge 6\"\r\n        ],\r\n        \"summary\": \"Receive batches of files in a Storage Account\",\r\n        \"description\": \"Registers a team to begin receiving batches of files in the supplied Storage Account. Warning: Updating the endpoint will overwrite existing endpoint registrations for your table.\",\r\n        \"operationId\": \"register\",\r\n        \"consumes\": [\r\n          \"application/json\"\r\n        ],\r\n        \"produces\": [\r\n          \"application/json\"\r\n        ],\r\n        \"parameters\": [\r\n          {\r\n            \"in\": \"body\",\r\n            \"name\": \"challengeSixRegistration\",\r\n            \"description\": \"Storage Account Information\",\r\n            \"required\": false,\r\n            \"schema\": {\r\n              \"$ref\": \"#/definitions/ChallengeSixRegistration\"\r\n            }\r\n          }\r\n        ],\r\n        \"responses\": {\r\n          \"200\": {\r\n            \"description\": \"OK\"\r\n          },\r\n          \"400\": {\r\n            \"description\": \"Invalid Parameters\"\r\n          }\r\n        }\r\n      }\r\n    },\r\n    \"/team/registerEventHub\": {\r\n      \"post\": {\r\n        \"tags\": [\r\n          \"Challenge 7\"\r\n        ],\r\n        \"summary\": \"Receive batches of events in an Event Hub\",\r\n        \"description\": \"Registers a team to begin receiving batches of events in the supplied Event Hub.  Warning: Updating the endpoint will overwrite existing endpoint registrations for your table.\",\r\n        \"operationId\": \"advance7\",\r\n        \"consumes\": [\r\n          \"application/json\"\r\n        ],\r\n        \"produces\": [\r\n          \"application/json\"\r\n        ],\r\n        \"parameters\": [\r\n          {\r\n            \"in\": \"body\",\r\n            \"name\": \"challengeSevenRegistration\",\r\n            \"description\": \"Event Hub Information\",\r\n            \"required\": false,\r\n            \"schema\": {\r\n              \"$ref\": \"#/definitions/ChallengeSevenRegistration\"\r\n            }\r\n          }\r\n        ],\r\n        \"responses\": {\r\n          \"200\": {\r\n            \"description\": \"OK\"\r\n          },\r\n          \"400\": {\r\n            \"description\": \"Invalid Parameters\"\r\n          }\r\n        }\r\n      }\r\n    },\r\n    \"/team/boost/{teamTableNumber}\": {\r\n      \"post\": {\r\n        \"tags\": [\r\n          \"Challenge 7\"\r\n        ],\r\n        \"summary\": \"Boost the rate that batches of events are sent to a team's registered Event Hub\",\r\n        \"description\": \"Registers a team to receive batches of events sent at much higher rates to their previously registered Event Hub.\",\r\n        \"operationId\": \"boostOn\",\r\n        \"consumes\": [\r\n          \"application/json\"\r\n        ],\r\n        \"produces\": [\r\n          \"application/json\"\r\n        ],\r\n        \"parameters\": [\r\n          {\r\n            \"name\": \"teamTableNumber\",\r\n            \"in\": \"path\",\r\n            \"description\": \"ID that was used for registration\",\r\n            \"required\": true,\r\n            \"type\": \"integer\"\r\n          }\r\n        ],\r\n        \"responses\": {\r\n          \"200\": {\r\n            \"description\": \"OK\"\r\n          }\r\n        }\r\n      }\r\n    },\r\n    \"/team/registerRatingEndpoint\": {\r\n      \"post\": {\r\n        \"tags\": [\r\n          \"Challenge 8\"\r\n        ],\r\n        \"summary\": \"Send generated ratings to a specific /api/CreateRating endpoint\",\r\n        \"description\": \"A randomly generated rating is send to the registered endpoint every six seconds.  Warning: Updating the endpoint will overwrite existing endpoint registrations for your table.\",\r\n        \"operationId\": \"advance8\",\r\n        \"consumes\": [\r\n          \"application/json\"\r\n        ],\r\n        \"produces\": [\r\n          \"application/json\"\r\n        ],\r\n        \"parameters\": [\r\n          {\r\n            \"in\": \"body\",\r\n            \"name\": \"challenge8registration\",\r\n            \"description\": \"Rating Endpoint Information\",\r\n            \"required\": false,\r\n            \"schema\": {\r\n              \"$ref\": \"#/definitions/ChallengeEightRegistration\"\r\n            }\r\n          }\r\n        ],\r\n        \"responses\": {\r\n          \"200\": {\r\n            \"description\": \"OK\"\r\n          },\r\n          \"400\": {\r\n            \"description\": \"Invalid Parameters\"\r\n          }\r\n        }\r\n      }\r\n    }\r\n  },\r\n  \"definitions\": {\r\n    \"ChallengeSixRegistration\": {\r\n      \"type\": \"object\",\r\n      \"required\": [\r\n        \"blobContainerName\",\r\n        \"storageAccountConnectionString\",\r\n        \"teamTableNumber\"\r\n      ],\r\n      \"properties\": {\r\n        \"teamTableNumber\": {\r\n          \"type\": \"integer\",\r\n          \"example\": 1\r\n        },\r\n        \"storageAccountConnectionString\": {\r\n          \"type\": \"string\",\r\n          \"example\": \"XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\"\r\n        },\r\n        \"blobContainerName\": {\r\n          \"type\": \"string\",\r\n          \"example\": \"challengeSixBlob\"\r\n        }\r\n      },\r\n      \"example\": {\r\n        \"storageAccountConnectionString\": \"XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\",\r\n        \"teamTableNumber\": 1,\r\n        \"blobContainerName\": \"challengeSixBlob\"\r\n      }\r\n    },\r\n    \"ChallengeSevenRegistration\": {\r\n      \"type\": \"object\",\r\n      \"required\": [\r\n        \"eventHubConnectionString\",\r\n        \"eventHubName\",\r\n        \"teamTableNumber\"\r\n      ],\r\n      \"properties\": {\r\n        \"teamTableNumber\": {\r\n          \"type\": \"integer\",\r\n          \"example\": 1\r\n        },\r\n        \"eventHubConnectionString\": {\r\n          \"type\": \"string\",\r\n          \"example\": \"XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\"\r\n        },\r\n        \"eventHubName\": {\r\n          \"type\": \"string\",\r\n          \"example\": \"challengeSevenEventHub\"\r\n        }\r\n      },\r\n      \"example\": {\r\n        \"teamTableNumber\": 1,\r\n        \"eventHubConnectionString\": \"XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\",\r\n        \"eventHubName\": \"challengeSevenEventHub\"\r\n      }\r\n    },\r\n    \"ChallengeEightRegistration\": {\r\n      \"type\": \"object\",\r\n      \"required\": [\r\n        \"ratingEndpoint\",\r\n        \"teamTableNumber\"\r\n      ],\r\n      \"properties\": {\r\n        \"teamTableNumber\": {\r\n          \"type\": \"integer\",\r\n          \"example\": 1\r\n        },\r\n        \"ratingEndpoint\": {\r\n          \"type\": \"string\",\r\n          \"example\": \"{Function App Url}/api/CreateRating\"\r\n        }\r\n      },\r\n      \"example\": {\r\n        \"teamTableNumber\": 1,\r\n        \"ratingEndpoint\": \"{Function App Url}/api/CreateRating\"\r\n      }\r\n    }\r\n  }\r\n}","contentFormat":"swagger-json","wsdlSelector":null,"apiType":"http"},"resources":[{"name":"ChallengeSixRegistration","type":"Microsoft.ApiManagement/service/apis/schemas","apiVersion":"2018-06-01-preview","properties":{"contentType":"application/json","document":{"value":"{\"storageAccountConnectionString\":{\"PrimitiveType\":4,\"AnyType\":0,\"Value\":\"XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\"},\"teamTableNumber\":{\"PrimitiveType\":0,\"AnyType\":0,\"Value\":1},\"blobContainerName\":{\"PrimitiveType\":4,\"AnyType\":0,\"Value\":\"challengeSixBlob\"}}"}}},{"name":"ChallengeSevenRegistration","type":"Microsoft.ApiManagement/service/apis/schemas","apiVersion":"2018-06-01-preview","properties":{"contentType":"application/json","document":{"value":"{\"teamTableNumber\":{\"PrimitiveType\":0,\"AnyType\":0,\"Value\":1},\"eventHubConnectionString\":{\"PrimitiveType\":4,\"AnyType\":0,\"Value\":\"XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\"},\"eventHubName\":{\"PrimitiveType\":4,\"AnyType\":0,\"Value\":\"challengeSevenEventHub\"}}"}}},{"name":"ChallengeEightRegistration","type":"Microsoft.ApiManagement/service/apis/schemas","apiVersion":"2018-06-01-preview","properties":{"contentType":"application/json","document":{"value":"{\"teamTableNumber\":{\"PrimitiveType\":0,\"AnyType\":0,\"Value\":1},\"ratingEndpoint\":{\"PrimitiveType\":4,\"AnyType\":0,\"Value\":\"{Function App Url}/api/CreateRating\"}}"}}},{"name":"register","type":"Microsoft.ApiManagement/service/apis/operations","apiVersion":"2018-06-01-preview","properties":{"templateParameters":[],"description":"Registers a team to begin receiving batches of files in the supplied Storage Account. Warning: Updating the endpoint will overwrite existing endpoint registrations for your table.","request":{"description":"Storage Account Information","queryParameters":[],"headers":[],"representations":[{"contentType":"application/json","sample":"\"null\"","schemaId":null,"typeName":"object","formParameters":null}]},"responses":[],"policies":null,"displayName":"Receive batches of files in a Storage Account","method":"Post","urlTemplate":"/team/registerStorageAccount"},"resources":null},{"name":"advance7","type":"Microsoft.ApiManagement/service/apis/operations","apiVersion":"2018-06-01-preview","properties":{"templateParameters":[],"description":"Registers a team to begin receiving batches of events in the supplied Event Hub.  Warning: Updating the endpoint will overwrite existing endpoint registrations for your table.","request":{"description":"Event Hub Information","queryParameters":[],"headers":[],"representations":[{"contentType":"application/json","sample":"\"null\"","schemaId":null,"typeName":"object","formParameters":null}]},"responses":[],"policies":null,"displayName":"Receive batches of events in an Event Hub","method":"Post","urlTemplate":"/team/registerEventHub"},"resources":null},{"name":"boostOn","type":"Microsoft.ApiManagement/service/apis/operations","apiVersion":"2018-06-01-preview","properties":{"templateParameters":[{"name":"teamTableNumber","description":"ID that was used for registration","type":"integer","defaultValue":"null","required":true,"values":[]}],"description":"Registers a team to receive batches of events sent at much higher rates to their previously registered Event Hub.","request":{"description":null,"queryParameters":[],"headers":[],"representations":null},"responses":[],"policies":null,"displayName":"Boost the rate that batches of events are sent to a team's registered Event Hub","method":"Post","urlTemplate":"/team/boost/{teamTableNumber}"},"resources":null},{"name":"advance8","type":"Microsoft.ApiManagement/service/apis/operations","apiVersion":"2018-06-01-preview","properties":{"templateParameters":[],"description":"A randomly generated rating is send to the registered endpoint every six seconds.  Warning: Updating the endpoint will overwrite existing endpoint registrations for your table.","request":{"description":"Rating Endpoint Information","queryParameters":[],"headers":[],"representations":[{"contentType":"application/json","sample":"\"null\"","schemaId":null,"typeName":"object","formParameters":null}]},"responses":[],"policies":null,"displayName":"Send generated ratings to a specific /api/CreateRating endpoint","method":"Post","urlTemplate":"/team/registerRatingEndpoint"},"resources":null}]}